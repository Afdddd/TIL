# Web Server VS WAS

우리는 브라우저(클라이언트)에 URL을 입력해 사이트에 접근한다.

```java
 www.naver.com
```
=> 이렇게 <br>
이게 어떻게 동작하는걸까?

우리가(클라이언트) 주소창에 URL을 입력하면 HTTP를 통해 서버로 요청 메세지가 전달된다.
<br>

## ❓HTTP가 뭔디? 
    
    Hyper Text Trasnfer Protocol, 
    웹상에서 데이터를 주고받기 위한 프로토콜
<br>

서버와 클라이언트가 서로 통신되는 동작은 훨씬 복잡하지만 <br>

    일단 클라이언트가 요청을 하면 
    요청이 담긴 HTTP 메세지를 HTTP를 통해 서버로 전달되고 
    서버는 해당 HTTP 메세지를 해석해 응답해준다.

까지만 이해하고 넘어가자

이제 우리는 `클라이언트가 요청하면` `서버가 응답한다`. <br>
라는 개념을 이해했다.

## 서버가 요청을 어떻게 처리하는지 더 자세히 알아보자 !!

우선, 서버는 `웹서버`(Web Server)와 `웹 어플리케이션 서버`(WAS)로 나뉜다.

둘의 가장 큰 차이는 <mark>제공해주는 리소스의 차이</mark>이다.

<br>

<span style="color : yellow;">웹서버</span> : <br> Web Server  정적인 리소스`(HTML, CSS, JS, 이미지, 영상 등)`들을 제공한다. 

- Apach, NGINX

<br>

<span style="color : yellow;">웹 어플리케이션 서버(WAS)</span>:  <br>
 동적인 리소스`(JSP,서블릿, 스프링 등)`들을 제공한다.

- 동적인 리소스란 사용자에 따라 달라지는 화면 <br>=> 마이페이지 같이  사용자마다 다른 화면
- tomcat

<br>

하지만... `WAS`도 동적인 리소스 뿐만 아니라 `정적인 리소스도 제공을 할 수 있다.` <br>

❓❓ 그럼 WAS가 웹 서버의 기능을 할 수 있으면 WAS만 사용하면 되는거 아닌가? 라고 생각이 들것이다.


![WebServer](/Web/img/Web_Server.png)

맞다. WAS만 사용할수있다. <br>
<span style="color : red;">하지만</span> WAS가 정적인 페이지도 제공하고 코드를 실행해서 동적인 페이지도 제공한다면 WAS가 <mark>너무 많은일을 처리하게 된다.</mark> <br>
 그래서 웹 서버를 WAS 앞단에 배치해 <br>
- 웹 서버에서 우선적으로 클라이언트 요청을 받아 정적 리소스를 처리하고 <br>
- 서블릿, jsp 같은 동적 리소스가 필요한 요청은 WAS로 전달한다.

![WAS](/Web/img/WAS.png)

사용자의 요청이 많아지면 여러대의 WAS를 사용해 요청을 분산 시켜 처리할 수 있다. 이런 걸 `로드밸런싱`이라 한다.

![Load_Balancer](/Web/img/Load_Balancer.png)

웹 서버와 WAS에 대해 알아봤다. <br>
다음은 Jsp와 Servlet으로 요청을 어떻게 처리하는지에 대해 알아보자.

---
# 추가로 관련 면접 질문 하나 가져와본다. 

❓❓ web과 was의 차이점이 무엇인가요 ?<br>
=> 이에 대한 답변에는 꼭 `동적컨텐츠 , 정적컨텐츠` 에 대한 내용이 들어가야 한다. 

모범답안 :

    이 둘의 가장 큰 차이점은 "동적인 컨텐츠를 다룰 수 있는가?"입니다.

    웹서버는 처리할 수 있는 데이터가 html, css, 이미지 등 정적인 데이터로 한정되며, 종류로는 아파치나 엔지닉스가 있습니다.

    웹 어플리케이션에서 정적인 데이터가 아닌 동적인 컨텐츠까지도 쓰기 위해서는 웹 어플리케이션 서버가 필요합니다.

    was에서는 정적인 컨텐츠 뿐만 아니라 동적인 컨텐츠인 Servlet, Jsp, Spring등을 제공해주며 종류로는 tomcat이 있습니다. 

    